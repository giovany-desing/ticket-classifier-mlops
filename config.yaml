# -------------------
# Configuración de Datos
# -------------------
data:
  raw_path: "data-tickets-train"  # ← Sin el nombre del archivo
  dataset_name: "dataset_tickets.csv"
  target_col: "etiqueta"

# -------------------
# Configuracion para experimento para MLflow
# -------------------
mlflow_tracking:
  # Nombre del experimento en la UI de MLflow
  experiment_name: "Clasificacion de tickets Fidudavivienda"

preprocessing:
  custom_stopwords:
    - "buen"
    - "buenos"
    - "buen" 
    - "buenos"
    - "dia" 
    - "tardes"
    - "buenas"
    - "grupo"
    - "asignación"
    - "asignacin"
    - "asignanar"
    - "asignado"
    - "davinci"
    - "preventa"
    - "fiduciaria"
    - "respuesta"
    - "proveedor"
    - "favor"
    - "pronta"
    - "quedo"
    - "atento"
    - "sebastian"
    - "sebastin"
    - "prado"
    - "vanegas"
    - "identificación"
    - "one"
    - "id"
    - "vinculacion"
    - "preventas"
    - "muchas"
    - "gracias"
    - "cliente"
    - "atentos"
    - "soporte"
    - "cc"
  language: "spanish"
  apply_stemming: true

# -------------------
# Configuración de Monitoreo y MLOps
# -------------------
monitoring:
  # Umbrales para detección de drift
  drift_threshold: 0.05  # p-value para considerar drift
  drift_score_threshold: 0.5  # Score de drift para trigger reentrenamiento
  min_predictions_for_drift: 100  # Mínimo de predicciones para analizar drift
  performance_drop_threshold: 0.05  # Caída de performance para trigger (5%)
  
  # Configuración de evaluación
  min_labeled_predictions: 50  # Mínimo de predicciones etiquetadas para evaluación
  evaluation_window_hours: 48  # Ventana de tiempo para evaluación
  
  # Configuración de reentrenamiento
  retrain_on_drift: true  # Reentrenar automáticamente si hay drift
  retrain_on_performance_drop: true  # Reentrenar si performance baja
  min_improvement_for_deploy: 0.01  # Mejora mínima (1%) para hacer deploy del nuevo modelo

# -------------------
# Configuración de API
# -------------------
api:
  host: "0.0.0.0"
  port: 8000
  log_dir: "monitoring/logs"

# -------------------
# Configuración de Base de Datos (Supabase)
# -------------------
database:
  # Configurar via variables de entorno:
  #SUPABASE_URL= "https://hnvjgvigpjxxsjpbdmqk.supabase.co"
  # SUPABASE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhudmpndmlncGp4eHNqcGJkbXFrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI1MTg2MDYsImV4cCI6MjA3ODA5NDYwNn0.PZNGkAAkB508f3gAsaf8c8Kyj8Xg8Hj5-xFXCWIfxD8"
  table_name: "tickets_fiducia"
  auto_update: true  # Actualizar BD automáticamente al predecir